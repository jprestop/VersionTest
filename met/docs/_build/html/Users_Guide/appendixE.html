

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>31. Appendix E WWMCA Tools &mdash; MET 9.1 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://jprestop.github.io/VersionTest/latest/Users_Guide/appendixE.html"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MET 9.1 documentation" href="../index.html"/>
        <link rel="up" title="User’s Guide" href="index.html"/>
        <link rel="next" title="32. Appendix F Python Embedding" href="appendixF.html"/>
        <link rel="prev" title="30. Appendix D Confidence Intervals" href="appendixD.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MET
          

          
            
            <img src="../_static/met_logo_2019_09.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                
                  <div class="version-dropdown">
                    <select class="version-list" id="version-list">
                      <option value=''>9.1</option>
                      
                        
                          <option value="../latest">latest</option>
                        
                      
                        
                          <option value="../develop">develop</option>
                        
                      
                    </select>
                  </div>
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Model Evaluation Tools</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">1. Overview of MET</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html">2. Software Installation/Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_io.html">3. MET Data I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="reformat_point.html">4. Re-Formatting of Point Observations</a></li>
<li class="toctree-l2"><a class="reference internal" href="reformat_grid.html">5. Re-Formatting of Gridded Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="masking.html">6. Regional Verification using Spatial Masking</a></li>
<li class="toctree-l2"><a class="reference internal" href="point-stat.html">7. Point-Stat Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="grid-stat.html">8. Grid-Stat Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="ensemble-stat.html">9. Ensemble-Stat Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="wavelet-stat.html">10. Wavelet-Stat Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="gsi-tools.html">11. GSI Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="stat-analysis.html">12. Stat-Analysis Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="series-analysis.html">13. Series-Analysis Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="grid-diag.html">14. Grid-Diag Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="mode.html">15. MODE Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="mode-analysis.html">16. MODE-Analysis Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="mode-td.html">17. MODE Time Domain Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="met-tc_overview.html">18. MET-TC Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="tc-dland.html">19. TC-Dland Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="tc-pairs.html">20. TC-Pairs Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="tc-stat.html">21. TC-Stat Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="tc-gen.html">22. TC-Gen Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="tc-rmw.html">23. TC-RMW Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="rmw-analysis.html">24. RMW-Analysis Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">25. Plotting and Graphics Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="refs.html">26. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixA.html">27. Appendix A FAQs &amp; How do I … ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixB.html">28. Appendix B Map Projections, Grids, and Polylines</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixC.html">29. Appendix C Verification Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixD.html">30. Appendix D Confidence Intervals</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">31. Appendix E WWMCA Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixF.html">32. Appendix F Python Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixG.html">33. Appendix G Vectors and Vector Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contributors_Guide/index.html">Contributor’s Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MET</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">User’s Guide</a> &raquo;</li>
        
      <li><span class="section-number">31. </span>Appendix E WWMCA Tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Users_Guide/appendixE.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="appendix-e-wwmca-tools">
<span id="appendixe"></span><h1><span class="section-number">31. </span>Appendix E WWMCA Tools<a class="headerlink" href="#appendix-e-wwmca-tools" title="Permalink to this headline">¶</a></h1>
<p>There are two WWMCA tools available. The <strong>wwmca_plot</strong> tool makes a PostScript plot of one or more WWMCA cloud percent files and the <strong>wwmca_regrid</strong> tool regrids WWMCA cloud percent files and reformats them into netCDF files that the other MET tools can read.</p>
<p>The WWMCA tools get valid time and hemisphere (north or south) information from the file names, so it’s important for both of the WWMCA tools that these file names not be changed.</p>
<hr class="docutils" />
<p>The usage statement for <strong>wwmca_plot</strong> is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>wwmca_plot [ -outdir path ] wwmca_cloud_pct_file_list
</pre></div>
</div>
<p>Here, <strong>wwmca_cloud_pct_file_list</strong> represents one or more WWMCA cloud percent files given on the command line. As with any command given to a UNIX shell, the user can use meta-characters as a shorthand way to specify many filenames.</p>
<p>The optional <strong>-outdir</strong> argument specifies a directory where the output PostScript plots will be placed. If not specified, then the plots will be put in the current (working) directory. <a class="reference internal" href="#reformat-grid-fig2"><span class="std std-numref">Figure 31.1</span></a> shows an example of the <strong>wwmca_plot</strong> output.</p>
<div class="figure align-default" id="id1">
<span id="reformat-grid-fig2"></span><img alt="../_images/reformat_grid_fig2.png" src="../_images/reformat_grid_fig2.png" />
<p class="caption"><span class="caption-number">Figure 31.1 </span><span class="caption-text">Example output of <strong>wwmca_plot</strong> tool.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The usage statement for <strong>wwmca_regrid</strong> is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>wwmca_regrid -out filename config filename [ -nh filename ] [ -sh filename ]
</pre></div>
</div>
<p>Here, the <strong>-out</strong> switch tells <strong>wwmca_regrid</strong> what to name the output netCDF file. The <strong>-config</strong> switch gives the name of the config file that <strong>wwmca_regrid</strong> should use—like many of the MET tools, <strong>wwmca-regrid</strong> uses a configuration file to specify user-changeable parameters. The format of this file will be explained below.</p>
<p>The <strong>-nh</strong> and <strong>-sh</strong> options give names of WWMCA cloud percent files that <strong>wwmca_regrid</strong> should use as input. Northern hemisphere files are specified with <strong>-nh</strong>, and southern hemisphere files with <strong>-sh</strong>. At least one of these must be given, but in many cases both need not be given.</p>
<p>In any regridding problem, there are two grids involved: the “From” grid, which is the grid the input data are on, and the “To” grid, which is the grid the data are to be moved onto. For <strong>wwmca_regrid</strong>, the “To” grid is specified in the config file. If this grid is entirely confined to one hemisphere, then only theWWMCA data file for that hemisphere need be given. It’s only when the “To” grid straddles the equator that data files for both hemispheres need be given (though the interpolation width parameter in the config file can change this—see below). Once the “To” grid is specified in the config file, the <strong>wwmca_regrid</strong> tool will know which input data files it needs, and will complain if it’s not given the right ones.</p>
<p>Now let’s talk about the details of the config file. The config file has the same C-like syntax that all the other MET config files use. The first (and most complicated) thing to specify is the “To” grid. This is given by the <strong>To_grid</strong> parameter. If you are using one of the standard NCEP grids, for example grid #218, you can simply write</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>To grid = &quot;G218&quot;;
</pre></div>
</div>
<p>and that will work. Failing that, you must give the parameters that specify the grid and it’s projection. Four projections are supported: Lambert Conformal, Polar Stereographic, Plate Carrée, and Mercator.</p>
<p>To specify a Lambert Grid, the syntax is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lambert Nx Ny lat_ll lon_ll lon_orient D_km R_km standard_lat_1 [ standard_lat_2 ] N|S
</pre></div>
</div>
<p>Here, <strong>Nx</strong> and <strong>Ny</strong> are the number of points in, respectively, the <strong>x</strong> and <strong>y</strong> grid directions. These two numbers give the overall size of the grid. <strong>lat_ll</strong> and <strong>lon_ll</strong> are the latitude and longitude, in degrees, of the lower left point of the grid. North latitude and east longitude are considered positive. <strong>lon_orient</strong> is the orientation longitude of the grid. It’s the meridian of longitude that’s parallel to one of the vertical grid directions. <strong>D_km</strong> and <strong>R_km</strong> are the grid resolution and the radius of the Earth, both in kilometers. <strong>standard_lat_1</strong> and <strong>standard_lat_2</strong> are the standard parallels of the Lambert projection. If the two latitudes are the same, then only one need be given. <strong>N|S</strong> means to write either <strong>N</strong> or <strong>S</strong> depending on whether the Lambert projection is from the north pole or the south pole.</p>
<p>As an example of specifying a Lambert grid, suppose you have a northern hemisphere Lambert grid with 614 points in the x direction and 428 points in the y direction. The lower left corner of the grid is at latitude <span class="math notranslate nohighlight">\(12.190^\circ\)</span> north and longitude <span class="math notranslate nohighlight">\(133.459^\circ\)</span> west. The orientation longitude is <span class="math notranslate nohighlight">\(95^\circ\)</span> west. The grid spacing is <span class="math notranslate nohighlight">\(12.19058^\circ\)</span> km. The radius of the Earth is the default value used in many grib files: 6367.47 km. Both standard parallels are at <span class="math notranslate nohighlight">\(25^\circ\)</span> north. To specify this grid in the config file, you would write</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>To grid = &quot;lambert 614 428 12.190 -133.459 -95.0 12.19058 6367.47 25.0 N&quot;;
</pre></div>
</div>
<p>For a Polar Stereographic grid, the syntax is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Nx Ny lat_ll lon_ll lon_orient D_km R_km lat_scale N|S
</pre></div>
</div>
<p>Here, <strong>Nx, Ny, lat_ll, lon_ll, lon_orient, D_km</strong> and <strong>R_km</strong> have the same meaning as in the Lambert case. <strong>lat_scale</strong> is the latitude where the grid scale <strong>D_km</strong> is true, while <strong>N|S</strong> means to write either <strong>N</strong> or <strong>S</strong> depending on whether the stereographic projection is from the north pole or the south pole.</p>
<p>For Plate Carrée grids, the syntax is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>latlon Nx Ny lat_ll lon_ll delta_lat delta_lon
</pre></div>
</div>
<p>The parameters <strong>Nx, Ny, lat_ll</strong> and <strong>lon_ll</strong> are as before. <strong>delta_lat</strong> and <strong>delta_lon</strong> are the latitude and longitude increments of the grid—i.e., the change in latitude or longitude between one grid point and an adjacent grid point.</p>
<p>For a Mercator grid, the syntax is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mercator Nx Ny lat_ll lon_ll lat_ur lon_ur
</pre></div>
</div>
<p>The parameters <strong>Nx, Ny, lat_ll</strong> and <strong>lon_ll</strong> are again as before, while <strong>lat_ur</strong> and <strong>lon_ur</strong> are the latitude and longitude of the upper right corner of the grid.</p>
<p>Thankfully, the rest of the parameters in the config file are easier to specify.</p>
<p>The next two config file parameters have to do with specifying the interpolation scheme used. The <strong>interp_method</strong> parameter specifies which interpolation method is to be used. Four methods are supported: average, maximum, minimum and nearest neighbor. As an example, to specify the “average” method, one would write</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>interp_method = &quot;average&quot;;
</pre></div>
</div>
<p>The other interpolation parameter is <strong>interp_width</strong>. This specifies the width of the interpolation box used in the above interpolation method. An example value could be</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>interp_width = 5;
</pre></div>
</div>
<p>The value must be odd and ≥ 1. If a value of 1 is specified, then nearest neighbor interpolation will be used regardless of the value assigned to <strong>interp_method</strong>.</p>
<p>The fact that an interpolation box is used has one subtle implication—the “To” grid is effectively fattened by half the width of the interpolation box. This means that even for a “To” grid that is entirely contained in one hemisphere, if it comes close to the equator, this virtual fattening may be enough to push it over the equator, and the user will then have to provide inputWWMCA files for both hemispheres, even though the “To” grid doesn’t cross the equator. The <strong>wwmca_regrid</strong> tool should detect this situation and complain to the user if not given the correct input files.</p>
<p>The next variable, <strong>good_percent</strong>, tells what fraction of the values in the interpolation square need to be “good” in order for the interpolation scheme to return a “good” result. Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>good percent = 0;
</pre></div>
</div>
<p>The rest of the config file parameters have to do with how the output netCDF file represents the data. These should be self-explanatory, so I’ll just give an example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>variable_name = &quot;Cloud Pct&quot;;
long_name     = &quot;cloud cover percent&quot;;
grib_code     = 100;
units         = &quot;percent&quot;;
level         = &quot;SFC&quot;;
</pre></div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="appendixF.html" class="btn btn-neutral float-right" title="32. Appendix F Python Embedding" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="appendixD.html" class="btn btn-neutral" title="30. Appendix D Confidence Intervals" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, UCAR/NCAR, NOAA, and CSU/CIRA.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
     
<script>var version_json_loc = "../../versions.json";</script>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'9.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/pop_ver.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>